<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>YOUDE TEST PAGE</title>
  <!-- CSS goes in the document HEAD or added to your external stylesheet -->
  <style type="text/css">
    table.gridtable {
      font-family: verdana, arial, sans-serif;
      font-size: 11px;
      color: #333333;
      border-width: 1px;
      border-color: #666666;
      border-collapse: collapse;
    }

    table.gridtable th {
      border-width: 1px;
      padding: 8px;
      border-style: solid;
      border-color: #666666;
      background-color: #dedede;
    }

    table.gridtable td {
      border-width: 1px;
      padding: 8px;
      border-style: solid;
      border-color: #666666;
      background-color: #ffffff;
    }
  </style>

  <script>
    function S2SPOSTSMS(urlvalue, params) {
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.open("POST", urlvalue, true);
      xmlhttp.setRequestHeader("X-SMS-Token", document.getElementById("smstoken").value)
      //xmlhttp.setRequestHeader("cache-control", "no-cache");
      xmlhttp.setRequestHeader("contentType", "text/html;charset=uft-8") //指定发送的编码
      //var parm = "act=" + act + "&cityname=" + cityname + "&antique=" + antique;//构造URL参数
      xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;");  //设置请求头信息
      //判断URL调用的状态值并处理
      xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
          document.getElementById("test").innerHTML = xmlhttp.responseText;
        }
      }
      xmlhttp.send(params);//设置为发送给服务器数据
      document.getElementById("oplog").innerHTML = "当前操作时间" + new Date();
    }

    function S2SGET(urlvalue, params) {
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.open("GET", urlvalue + "?" + params, true);
      xmlhttp.setRequestHeader("X-SMS-Token", "test-110")
      xmlhttp.setRequestHeader("contentType", "text/html;charset=uft-8") //指定发送的编码
      xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;");  //设置请求头信息
      //判断URL调用的状态值并处理
      xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
          document.getElementById("test").innerHTML = xmlhttp.responseText;
        }
      }
      xmlhttp.send();//设置为发送给服务器数据
      document.getElementById("oplog").innerHTML = "当前操作时间" + new Date();
    }
  </script>
</head>
<body>
<div style="z-index: 9999; position: fixed ! important; right: 0px; top: 0px;">


</div>
<div id="dg" style="z-index: 9999; position: fixed ! important; left: 0px; top: 0px;">
  <textarea id="test"
            style="width: 1024px; height: 200px; font-family: 'Courier New'; font-size: 12px; line-height: 1.5;">
  Hello Minders!
</textarea>
</div>

<!-- Table goes in the document BODY -->
<div style="height: 200px;">head</div>
<table class="gridtable">
  <tr>
    <th>分类</th>
    <th>请求方法</th>
    <th>URL值</th>
    <th>参数值</th>
    <th>测试按钮</th>
    <th>能过测试</th>
  </tr>
  <script>
    function listlogin() {
      S2SPOSTSMS("t/sendsms", "phoneNumber=" + document.getElementById("phone").value);
    }

    function gen() {
      S2SPOSTSMS("sms/gen", "");
    }

    function validate() {
      S2SPOSTSMS("t/validate",
          "phoneNumber=" + document.getElementById("phone").value
          + "&verificationCode=" + document.getElementById("smscode").value
      )
      ;
    }
  </script>
  <tr>
    <td>1、短信发送接口</td>
    <td>POST</td>
    <td>sms/send</td>
    <td>
      HEAD 带上X-SMS-Token；
      phoneNumber=18098944652
    </td>
    <td>
      填入手机号 <input type="text" id="phone" style="width: 100px; "/>
      <button type="button" onclick="listlogin()">发送</button>

    </td>
    <td>pass</td>
  </tr>
  <tr>
    <td> 2、 生成接口</td>
    <td>POST</td>
    <td>sms/gen</td>
    <td>【重要】生成规则：<br>
      X-SMS-Token 由当前的组成（md1k+当前年月日+ikie#2321^SH12@）的MD5
      <br>示例： md1k20171020ikie#2321^SH12@ <br>
      的MD5值是：179caf54e0a9ebb61e21e7e67a20e05f
    </td>
    <td>
      <button type="button" onclick="gen()">测试</button>
      填入：X-SMS-Token <input type="text" id="smstoken" style="width: 100px;"></input>
    </td>
    <td>pass</td>
  </tr>

  <tr>
    <td> 3、验证接口 </td>
    <td>POST</td>
    <td>sms/validate</td>
    <td>
      HEAD 带上X-SMS-Token；
      String phoneNumber, String verificationCode
    </td>
    <td>
      填入验证码CODE <input type="text" id="smscode" style="width: 100px; "/>
      <button type="button" onclick="validate()">测试</button>
    </td>
    <td>pass</td>
  </tr>
  <tr>
    <td></td>
    <td>POST</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
</body>
</html>